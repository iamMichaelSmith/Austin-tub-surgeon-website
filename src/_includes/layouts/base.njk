<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  {# Basic SEO #}
  <title>{{ title }} | {{ site.name }}</title>
  <meta name="description" content="{{ description | default(site.tagline) }}" />
  <link rel="canonical" href="{{ site.url }}{{ page.url }}" />

  {# Open Graph / Social #}
  <meta property="og:title" content="{{ title }} | {{ site.name }}" />
  <meta property="og:description" content="{{ description | default(site.tagline) }}" />
  <meta property="og:type" content="{% if page.url and page.url.startsWith('/blogs/') and page.url != '/blogs/' %}article{% else %}website{% endif %}" />
  <meta property="og:url" content="{{ site.url }}{{ page.url }}" />
  <meta property="og:image" content="{{ site.url }}{{ socialImage | default('/assets/img/og-default.svg') }}" />
  <meta property="og:image:alt" content="{{ title }} | {{ site.name }}" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="{{ title }} | {{ site.name }}" />
  <meta name="twitter:description" content="{{ description | default(site.tagline) }}" />
  <meta name="twitter:image" content="{{ site.url }}{{ socialImage | default('/assets/img/og-default.svg') }}" />

  <link rel="stylesheet" href="/assets/css/style.css" />

  {# Local business schema #}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": ["LocalBusiness", "HomeAndConstructionBusiness"],
    "name": "{{ site.name }}",
    "url": "{{ site.url }}",
    "telephone": "{{ site.phone }}",
    "email": "{{ site.email }}",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "{{ site.address.street }}",
      "addressLocality": "{{ site.address.city }}",
      "addressRegion": "{{ site.address.state }}",
      "postalCode": "{{ site.address.zip }}",
      "addressCountry": "US"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": 30.51,
      "longitude": -97.68
    },
    "areaServed": ["Austin", "Round Rock", "Georgetown", "Pflugerville", "Cedar Park", "Hutto", "Leander"],
    "openingHours": ["Mo-Fr 08:30-16:00", "Sa 10:00-16:00"],
    "priceRange": "$$"
  }
  </script>

  {# BlogPosting schema for individual blog posts #}
  {% if page.url and page.url.startsWith('/blogs/') and page.url != '/blogs/' %}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "{{ title }}",
    "description": "{{ description | default(site.tagline) }}",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "{{ site.url }}{{ page.url }}"
    },
    "author": {
      "@type": "Organization",
      "name": "{{ site.name }}"
    },
    "publisher": {
      "@type": "Organization",
      "name": "{{ site.name }}"
    },
    "datePublished": "{{ page.date | sitemapDate }}",
    "dateModified": "{{ page.date | sitemapDate }}"
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "{{ site.url }}/"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Blog",
        "item": "{{ site.url }}/blogs/"
      },
      {
        "@type": "ListItem",
        "position": 3,
        "name": "{{ title }}",
        "item": "{{ site.url }}{{ page.url }}"
      }
    ]
  }
  </script>
  {% endif %}

  {% if faq and faq.length %}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {% for item in faq %}
      {
        "@type": "Question",
        "name": {{ item.q | dump }},
        "acceptedAnswer": {
          "@type": "Answer",
          "text": {{ item.a | dump }}
        }
      }{% if not loop.last %},{% endif %}
      {% endfor %}
    ]
  }
  </script>
  {% endif %}
</head>
<body class="page-{{ pageKey }}">
  {% include "partials/header.njk" %}
  <main>
    {{ content | safe }}
  </main>
  {% include "partials/footer.njk" %}

  <div class="mobile-sticky-cta">
    <h4>Ready for a fast estimate?</h4>
    <a href="/fast-quote/" class="button">Upload Photos</a>
  </div>

  <script src="/assets/js/site.js"></script>
</body>
</html>
